# BanBan - Roadmap Adequado √† Arquitetura Gen√©rica

## üìã RESUMO EXECUTIVO

### **Vis√£o do Projeto**
O BanBan √© um sistema anal√≠tico especializado em gest√£o de estoque para varejo de moda, desenvolvido como cliente customizado da plataforma Axon. Utiliza Intelig√™ncia Artificial conversacional para transformar dados brutos de ERP em insights acion√°veis, permitindo que gestores tomem decis√µes estrat√©gicas baseadas em an√°lises preditivas e recomenda√ß√µes personalizadas.

### **Problema Resolvido**
- **Gestores de varejo** perdem oportunidades e enfrentam rupturas por falta de insights acion√°veis
- **Dados abundantes** mas pouca intelig√™ncia para transform√°-los em a√ß√µes pr√°ticas
- **An√°lises manuais** demoradas e propensas a erros humanos
- **Decis√µes reativas** ao inv√©s de estrat√©gias proativas baseadas em dados

### **Solu√ß√£o Proposta**
Sistema que processa dados de ERP via IA para gerar **8 tipos espec√≠ficos de insights**:
1. **Ativa√ß√£o de Produtos Parados** - SKUs sem vendas com sugest√µes de a√ß√£o
2. **Recomenda√ß√µes de Reposi√ß√£o Inteligente** - Preven√ß√£o de rupturas baseada em IA
3. **An√°lise de Diverg√™ncias de Estoque** - Detec√ß√£o autom√°tica ERP vs PDV
4. **Otimiza√ß√£o de Margem** - Identifica√ß√£o de produtos com rentabilidade baixa
5. **Ponto de Reabastecimento Automatizado** - Alertas proativos de reposi√ß√£o
6. **Promo√ß√µes Focadas em Slow-Movers** - Estrat√©gias para acelerar giro
7. **Redistribui√ß√£o Otimizada entre Lojas** - Balanceamento inteligente de estoque
8. **Detec√ß√£o de Picos de Devolu√ß√£o** - Identifica√ß√£o de problemas de qualidade

### **Diferencial Competitivo**
- **IA Conversacional**: Usu√°rio pode "conversar" com seus dados como se fosse um analista s√™nior
- **An√°lises Preditivas**: N√£o apenas detecta problemas, mas prev√™ oportunidades
- **Linguagem Natural**: Insights apresentados em portugu√™s claro e acion√°vel
- **Integra√ß√£o Nativa**: Conecta diretamente com ERPs via webhooks existentes
- **Custo Otimizado**: IA custa apenas $0.18-2.00/m√™s por cliente (99% de margem)

### **Arquitetura T√©cnica**
```
ERP ‚Üí Edge Functions ‚Üí Dados Estruturados ‚Üí IA via N8N ‚Üí Insights Acion√°veis ‚Üí Interface Conversacional
```

**Componentes principais:**
- **Backend**: Node.js + Supabase + N8N para orquestra√ß√£o de IA
- **Frontend**: Next.js + React com interface conversacional
- **IA**: GPT-4o-mini (custo) + GPT-4 (precis√£o) + Claude (conversa√ß√£o)
- **Dados**: Arquitetura gen√©rica com tabelas JSONB flex√≠veis

### **Entreg√°veis do Projeto**
1. **Home Customizada** (`/banban`) - Dashboard com insights di√°rios/semanais
2. **M√≥dulo Performance** (`/banban/performance`) - An√°lises detalhadas e KPIs
3. **M√≥dulo Insights** (`/banban/insights`) - Hist√≥rico e gest√£o avan√ßada
4. **Sistema de Chat IA** - Conversa√ß√£o geral e contextual por insight
5. **8 Workflows N8N** - Orquestra√ß√£o autom√°tica de an√°lises via IA
6. **APIs Especializadas** - Endpoints otimizados para cada funcionalidade

### **Cronograma e Recursos**
- **Dura√ß√£o**: 6 semanas (6 sprints de 1 semana)
- **Equipe**: 2-3 desenvolvedores (1 backend + 1-2 frontend)
- **Budget IA**: $100-300/m√™s para opera√ß√£o (custo real)
- **Tecnologias**: Stack existente da Axon + N8N + APIs de IA

### **ROI Esperado**
- **Investimento**: ~$50K desenvolvimento + $200/m√™s opera√ß√£o
- **Economia/Ganho**: R$ 50K-200K/m√™s para cliente t√≠pico
- **Payback**: 2-4 semanas de uso
- **ROI**: 15-50x do investimento

### **M√©tricas de Sucesso**
- **T√©cnicas**: Uptime >99.5%, Lat√™ncia <30s, Taxa erro <1%
- **Funcionais**: 8 insights funcionando, Acur√°cia >85%, Satisfa√ß√£o >4.5/5
- **Neg√≥cio**: ROI >10x, Adoption >80%, Retention >95%

### **Riscos e Mitiga√ß√µes**
- **Custo IA vari√°vel**: Mitigado com otimiza√ß√µes (cache, prompts, modelos)
- **Complexidade N8N**: Mitigado com workflows simples e bem testados
- **Adoption do cliente**: Mitigado com UX intuitiva e valor claro
- **Qualidade insights**: Mitigado com valida√ß√£o e feedback cont√≠nuo

### **Pr√≥ximos Passos**
1. **Setup N8N + IA** (Semana 1)
2. **Primeiro insight funcionando** (Semana 2) 
3. **Home + Chat b√°sico** (Semana 3)
4. **8 insights completos** (Semana 4-5)
5. **Produ√ß√£o est√°vel** (Semana 6)

---

## üèóÔ∏è ARQUITETURA DO SISTEMA

### **Estrutura Gen√©rica Existente:**
- **business_entities** - Produtos, lojas, fornecedores, etc.
- **business_relationships** - Relacionamentos entre entidades
- **business_transaction_items** - Itens de vendas, compras, transfer√™ncias
- **business_transactions** - Transa√ß√µes principais
- **M√≥dulos por tenant** - Cada p√°gina √© um m√≥dulo espec√≠fico
- **Home customiz√°vel** - Recebe widgets ou √© totalmente customizada

### **Nova Estrutura para BanBan:**
```sql
-- Tabela gen√©rica para insights de qualquer m√≥dulo
CREATE TABLE module_insights (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  tenant_id UUID NOT NULL,
  module_name TEXT NOT NULL,           -- 'banban', 'performance', etc.
  insight_type TEXT NOT NULL,          -- 'SLOW_MOVING', 'LOW_MARGIN', etc.
  insight_data JSONB NOT NULL,         -- Dados do insight em formato flex√≠vel
  severity TEXT NOT NULL,              -- 'CRITICAL', 'WARNING', 'OPPORTUNITY'
  generated_at TIMESTAMPTZ DEFAULT now(),
  expires_at TIMESTAMPTZ,              -- Quando insight perde validade
  is_read BOOLEAN DEFAULT FALSE,
  is_resolved BOOLEAN DEFAULT FALSE,
  ai_analysis JSONB,                   -- An√°lise da IA em formato estruturado
  created_at TIMESTAMPTZ DEFAULT now()
);

-- Tabela gen√©rica para conversas com IA de qualquer m√≥dulo
CREATE TABLE module_conversations (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  tenant_id UUID NOT NULL,
  user_id UUID NOT NULL,
  module_name TEXT NOT NULL,           -- 'banban', 'performance', etc.
  conversation_type TEXT NOT NULL,     -- 'general', 'insight_specific'
  context_reference UUID,              -- ID do insight se conversation_type = 'insight_specific'
  messages JSONB NOT NULL,             -- Array de mensagens
  metadata JSONB DEFAULT '{}',         -- Metadados da conversa
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

-- Configura√ß√µes por m√≥dulo/tenant
CREATE TABLE module_configurations (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  tenant_id UUID NOT NULL,
  module_name TEXT NOT NULL,
  config_data JSONB NOT NULL,          -- Configura√ß√µes espec√≠ficas do m√≥dulo
  updated_by UUID NOT NULL,
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now(),
  UNIQUE(tenant_id, module_name)
);
```

---

## üì± ESTRUTURA DE P√ÅGINAS/M√ìDULOS

### **Home Customizada BanBan (`/banban`)**
*N√£o √© um m√≥dulo, √© uma inst√¢ncia customizada*
```typescript
// P√°gina home concentra insights do dia/semana
interface BanbanHomePage {
  insights_summary: DailyInsights[];
  chat_general: ChatInterface;
  quick_actions: ActionButton[];
  streak_info: StreakData;
}
```

### **M√≥dulo Performance (`/banban/performance`)**
*M√≥dulo espec√≠fico para an√°lises detalhadas*
```typescript
interface PerformanceModule {
  charts: PerformanceChart[];
  kpis: KPICard[];
  filters: FilterOptions;
  export_options: ExportButton[];
}
```

### **M√≥dulo Insights (`/banban/insights`)** - NOVO
*M√≥dulo para hist√≥rico e gest√£o avan√ßada*
```typescript
interface InsightsModule {
  historical_insights: InsightHistory[];
  insight_filters: FilterOptions;
  bulk_actions: BulkActionOptions;
  analytics: InsightAnalytics;
}
```

---

## üéØ BACKLOG ATUALIZADO

### **√âPICO 1: ADAPTA√á√ÉO √Ä ARQUITETURA GEN√âRICA**

#### **US1.1 - Estrutura Gen√©rica de Dados**
```
COMO sistema
QUERO usar estrutura gen√©rica para insights
PARA manter consist√™ncia com arquitetura existente

CRIT√âRIOS:
- [ ] Tabela module_insights criada
- [ ] Tabela module_conversations criada  
- [ ] Tabela module_configurations criada
- [ ] RLS policies implementadas
- [ ] Migrations testadas com dados sample
```

#### **US1.2 - Integra√ß√£o com business_entities**
```
COMO m√≥dulo BanBan
QUERO mapear produtos/lojas para business_entities
PARA reutilizar dados existentes sem duplica√ß√£o

CRIT√âRIOS:
- [ ] Mapeamento de produtos (business_entities.entity_type = 'PRODUCT')
- [ ] Mapeamento de lojas (business_entities.entity_type = 'STORE')
- [ ] Queries otimizadas para buscar entidades
- [ ] Cache de mapeamentos frequentes
- [ ] Documenta√ß√£o do modelo de dados
```

#### **US1.3 - Processamento de Transa√ß√µes Existentes**
```
COMO sistema de insights
QUERO analisar dados de business_transactions
PARA gerar insights baseados em vendas/movimenta√ß√µes reais

CRIT√âRIOS:
- [ ] Query para vendas por produto/loja
- [ ] Query para movimenta√ß√µes de estoque
- [ ] Query para an√°lise de margem
- [ ] Query para detec√ß√£o de diverg√™ncias
- [ ] √çndices otimizados para performance
```

### **√âPICO 2: HOME CUSTOMIZADA BANBAN**

#### **US2.1 - Interface Home Insights Di√°rios**
```
COMO usu√°rio BanBan
QUERO ver insights concentrados na home
PARA tomar decis√µes r√°pidas sobre meu neg√≥cio

CRIT√âRIOS:
- [ ] Cards de insights por severidade (Cr√≠tico/Aten√ß√£o/Oportunidade)
- [ ] Seletor de per√≠odo (hoje/esta semana)
- [ ] Bot√£o "Ver mais insights" linkando para m√≥dulo
- [ ] Chat geral integrado
- [ ] Streak de resolu√ß√£o de insights cr√≠ticos
```

#### **US2.2 - Chat Geral Contextual**
```
COMO usu√°rio
QUERO conversar sobre meus dados gerais
PARA obter insights personalizados

CRIT√âRIOS:
- [ ] Interface de chat limpa e intuitiva
- [ ] Acesso a TODOS os dados do tenant
- [ ] Sugest√µes de perguntas baseadas nos insights atuais
- [ ] Respostas com visualiza√ß√µes quando apropriado
- [ ] Hist√≥rico de conversas acess√≠vel
```

#### **US2.3 - Chat Contextual por Insight**
```
COMO usu√°rio
QUERO conversar especificamente sobre um insight
PARA entender detalhes e decidir a√ß√µes

CRIT√âRIOS:
- [ ] Bot√£o "Conversar" em cada card de insight
- [ ] Contexto pr√©-carregado do insight espec√≠fico
- [ ] Dados de suporte (produtos/lojas relacionados)
- [ ] Sugest√µes de a√ß√µes baseadas no insight
- [ ] Possibilidade de marcar insight como resolvido
```

### **√âPICO 3: M√ìDULO PERFORMANCE**

#### **US3.1 - An√°lises Visuais Detalhadas**
```
COMO usu√°rio
QUERO visualizar performance detalhada
PARA an√°lises profundas do neg√≥cio

CRIT√âRIOS:
- [ ] Gr√°ficos de vendas por categoria/per√≠odo
- [ ] An√°lise de margem por produto
- [ ] Performance comparativa por loja
- [ ] Tend√™ncias temporais (daily/weekly/monthly)
- [ ] Filtros din√¢micos e drill-down
```

#### **US3.2 - KPIs em Tempo Real**
```
COMO usu√°rio
QUERO acompanhar KPIs atualizados
PARA monitorar performance continuamente

CRIT√âRIOS:
- [ ] Cards de KPIs principais (vendas, margem, giro)
- [ ] Compara√ß√£o com per√≠odos anteriores
- [ ] Metas vs realizados
- [ ] Alertas quando KPIs fogem do alvo
- [ ] Export de dados para relat√≥rios
```

### **√âPICO 4: M√ìDULO INSIGHTS (NOVO)**

#### **US4.1 - Hist√≥rico Completo de Insights**
```
COMO usu√°rio
QUERO acessar hist√≥rico de todos os insights
PARA acompanhar evolu√ß√£o e padr√µes

CRIT√âRIOS:
- [ ] Lista paginada de insights hist√≥ricos
- [ ] Filtros por tipo, severidade, per√≠odo
- [ ] Status de resolu√ß√£o (pendente/resolvido)
- [ ] Busca por texto livre
- [ ] Exporta√ß√£o de relat√≥rios
```

#### **US4.2 - Analytics de Insights**
```
COMO usu√°rio
QUERO analisar padr√µes nos insights gerados
PARA melhorar opera√ß√£o do neg√≥cio

CRIT√âRIOS:
- [ ] Gr√°ficos de insights por tipo/per√≠odo
- [ ] Taxa de resolu√ß√£o de insights cr√≠ticos
- [ ] Tempo m√©dio de resolu√ß√£o
- [ ] Insights mais frequentes
- [ ] Impacto financeiro dos insights resolvidos
```

#### **US4.3 - Gest√£o Avan√ßada de Insights**
```
COMO usu√°rio
QUERO gerenciar insights em lote
PARA otimizar fluxo de trabalho

CRIT√âRIOS:
- [ ] Sele√ß√£o m√∫ltipla de insights
- [ ] A√ß√µes em lote (marcar resolvido, arquivar)
- [ ] Prioriza√ß√£o manual de insights
- [ ] Atribui√ß√£o de insights para equipe
- [ ] Coment√°rios e anota√ß√µes
```

### **√âPICO 5: WORKFLOWS N8N ADAPTADOS**

#### **US5.1 - Workflow Produtos Parados**
```
COMO sistema
QUERO identificar produtos sem movimento
PARA alertar sobre necessidade de a√ß√£o

CRIT√âRIOS:
- [ ] Query em business_transactions para identificar produtos parados
- [ ] An√°lise via IA considerando sazonalidade
- [ ] Gera√ß√£o de insight em module_insights
- [ ] Sugest√µes de a√ß√µes espec√≠ficas
- [ ] C√°lculo de impacto financeiro
```

#### **US5.2 - Workflow An√°lise de Margem**
```
COMO sistema
QUERO identificar produtos com margem baixa
PARA sugerir otimiza√ß√µes de pre√ßo

CRIT√âRIOS:
- [ ] C√°lculo de margem por produto
- [ ] Compara√ß√£o com margem alvo configur√°vel
- [ ] An√°lise de elasticidade de pre√ßo via IA
- [ ] Sugest√µes de ajuste de pre√ßo
- [ ] Simula√ß√£o de impacto na receita
```

#### **US5.3 - Workflow Recomenda√ß√µes de Reposi√ß√£o**
```
COMO sistema
QUERO prever necessidades de reposi√ß√£o
PARA evitar rupturas de estoque

CRIT√âRIOS:
- [ ] An√°lise de velocidade de vendas
- [ ] Previs√£o de demanda via IA
- [ ] C√°lculo de ponto de reposi√ß√£o
- [ ] Considera√ß√£o de lead time do fornecedor
- [ ] Alertas proativos de reabastecimento
```

---

## üóÇÔ∏è ESTRUTURA DE C√ìDIGO ATUALIZADA

```
src/
‚îú‚îÄ‚îÄ core/modules/banban/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts                    # Registro do m√≥dulo
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ queries.ts              # Queries para business_* tables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mappers.ts              # Mappers entity -> produto/loja
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cache.ts                # Cache de consultas frequentes
‚îÇ   ‚îú‚îÄ‚îÄ insights/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ engine.ts               # Motor de gera√ß√£o de insights
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ detectors.ts            # Detectores de anomalias
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ formatters.ts           # Formata√ß√£o para module_insights
‚îÇ   ‚îú‚îÄ‚îÄ ai/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ n8n-client.ts           # Cliente N8N
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ workflows.ts            # Triggers para workflows
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chat-service.ts         # Servi√ßo de chat com IA
‚îÇ   ‚îî‚îÄ‚îÄ __tests__/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ banban/                     # Home customizada (n√£o √© m√≥dulo)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                # P√°gina principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InsightCard.tsx     # Card de insight
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeneralChat.tsx     # Chat geral
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InsightChat.tsx     # Chat contextual
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StreakCounter.tsx   # Contador de streak
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ performance/            # M√≥dulo performance
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ PerformanceCharts.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ KPICards.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ insights/               # M√≥dulo insights (NOVO)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ page.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ InsightHistory.tsx
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ InsightFilters.tsx
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ InsightAnalytics.tsx
‚îÇ   ‚îî‚îÄ‚îÄ api/banban/
‚îÇ       ‚îú‚îÄ‚îÄ insights/route.ts       # CRUD de insights
‚îÇ       ‚îú‚îÄ‚îÄ chat/route.ts           # Chat com IA
‚îÇ       ‚îú‚îÄ‚îÄ performance/route.ts    # Dados de performance
‚îÇ       ‚îî‚îÄ‚îÄ config/route.ts         # Configura√ß√µes do m√≥dulo
```

---

## üìä ESTRUTURA DE DADOS DOS INSIGHTS

### **Formato Gen√©rico em module_insights.insight_data:**
```typescript
interface InsightData {
  // Dados base do insight
  title: string;
  description: string;
  impact_financial?: number;
  entities_affected: {
    type: 'PRODUCT' | 'STORE' | 'CATEGORY';
    ids: string[];
    details: any[];
  };
  
  // Dados espec√≠ficos por tipo
  specific_data: {
    // Para SLOW_MOVING
    days_without_sale?: number;
    last_sale_date?: string;
    suggested_actions?: string[];
    
    // Para LOW_MARGIN
    current_margin?: number;
    target_margin?: number;
    price_suggestions?: PriceSuggestion[];
    
    // Para RESTOCK_NEEDED
    current_stock?: number;
    reorder_point?: number;
    suggested_quantity?: number;
    estimated_stockout_date?: string;
  };
  
  // An√°lise da IA
  ai_analysis?: {
    reasoning: string;
    confidence_score: number;
    recommendations: Recommendation[];
    follow_up_questions: string[];
  };
}
```

### **Formato de Conversa em module_conversations.messages:**
```typescript
interface ConversationMessage {
  id: string;
  role: 'user' | 'assistant';
  content: string;
  timestamp: string;
  metadata?: {
    query_cost?: number;
    processing_time?: number;
    data_sources?: string[];
    visualizations?: ChartData[];
  };
}
```

---

## üéØ CRONOGRAMA ATUALIZADO

### **SPRINT 1 (Semana 1): Estrutura Gen√©rica**
- **Dia 1-2:** Criar tabelas gen√©ricas + migrations
- **Dia 3-4:** Mappers para business_entities
- **Dia 5:** Queries base para an√°lises

### **SPRINT 2 (Semana 2): Home Customizada**
- **Dia 1-2:** Interface home com cards de insights
- **Dia 3-4:** Chat geral + contextual
- **Dia 5:** Integra√ß√£o com dados reais

### **SPRINT 3 (Semana 3): Workflows IA**
- **Dia 1-2:** Workflow produtos parados
- **Dia 3-4:** Workflow margem + reposi√ß√£o
- **Dia 5:** Testes e ajustes

### **SPRINT 4 (Semana 4): M√≥dulo Performance**
- **Dia 1-2:** Gr√°ficos e KPIs
- **Dia 3-4:** Filtros e drill-down
- **Dia 5:** Otimiza√ß√£o de performance

### **SPRINT 5 (Semana 5): M√≥dulo Insights**
- **Dia 1-2:** Hist√≥rico de insights
- **Dia 3-4:** Analytics e gest√£o
- **Dia 5:** Funcionalidades avan√ßadas

### **SPRINT 6 (Semana 6): Polimento**
- **Dia 1-2:** Testes end-to-end
- **Dia 3-4:** Otimiza√ß√µes e UX
- **Dia 5:** Deploy e documenta√ß√£o

---

## üîÑ FLUXO DE DADOS ATUALIZADO

```mermaid
graph TD
    A[ERP] -->|Webhook| B[Edge Functions]
    B -->|Persiste| C[business_transactions]
    C -->|Trigger| D[BanBan Insight Engine]
    D -->|Analisa| E[business_entities]
    D -->|Detecta Anomalias| F[N8N Workflows]
    F -->|IA Analysis| G[module_insights]
    G -->|Exibe| H[Home BanBan]
    H -->|Chat| I[module_conversations]
    I -->|IA Response| J[Chat Interface]
    G -->|Hist√≥rico| K[M√≥dulo Insights]
    G -->|Analytics| L[M√≥dulo Performance]
```

---

## üéØ PR√ìXIMOS PASSOS IMEDIATOS

### **Esta Semana:**
1. **Criar migrations** para tabelas gen√©ricas
2. **Implementar mappers** business_entities ‚Üí produtos/lojas
3. **Setup N8N** + APIs de IA
4. **P√°gina home** com layout b√°sico

### **Decis√µes T√©cnicas:**
1. **√çndices:** Quais √≠ndices criar nas tabelas gen√©ricas?
2. **Cache:** Redis ou cache em aplica√ß√£o?
3. **N8N:** Cloud ($20/m√™s) ou self-hosted?
4. **Performance:** Batch processing ou real-time?

**Est√° alinhado com essa abordagem adaptada √† sua arquitetura?** üöÄ