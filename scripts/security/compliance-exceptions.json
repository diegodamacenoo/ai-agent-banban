{
  "internal_functions": {
    "description": "Funcoes internas do sistema que nao requerem verificacao de usuario",
    "permission_check_exceptions": [
      "src/app/actions/auth/data-export-processor.ts"
    ],
    "revalidation_exceptions": [
      "src/app/actions/auth/data-export-processor.ts"
    ],
    "return_format_exceptions": [
      "src/app/actions/auth/data-export-processor.ts"
    ]
  },
  "system_functions": {
    "description": "Funcoes que sao chamadas pelo sistema, nao por usuarios",
    "files": [
      "src/app/actions/auth/data-export-processor.ts"
    ]
  },
  "background_jobs": {
    "description": "Jobs em background que processam dados assincronamente",
    "files": [
      "src/app/actions/auth/data-export-processor.ts"
    ]
  },
  "test_files": {
    "description": "Arquivos de teste que nao sao Server Actions",
    "exclude_from_server_actions": [
      "src/app/actions/__tests__/"
    ]
  },
  "getSession_exceptions": {
    "description": "Arquivos com uso legitimo de getSession() para obter session.id ou access_token, com autenticacao principal via getUser()",
    "files": [
      "src/app/actions/auth/sessions.ts",
      "src/lib/utils/api-router.ts"
    ]
  },
  "sensitive_content_exceptions": {
    "description": "Arquivos com uso legitimo de palavras-chave sensiveis (schemas, auth, configs, etc.)",
    "files": [
      "package-lock.json",
      "src/lib/schemas/auth.ts",
      "src/lib/schemas/settings.ts",
      "src/lib/email/resend.ts",
      "src/lib/utils/rate-limiter.ts",
      "src/lib/utils/audit-logger.ts",
      "src/lib/utils/api-router.ts",
      "src/lib/supabase/auth-helpers.ts",
      "src/lib/supabase/client.ts",
      "src/lib/supabase/server.ts",
      "src/lib/supabase/admin.ts",
      "src/app/api/auth/change-password/route.ts",
      "src/app/api/audit-logs/route.ts",
      "src/app/api/audit-logs/export/route.ts",
      "src/app/api/v1/audit-logs/route.ts",
      "src/app/api/v1/audit-logs/export/route.ts",
      "src/app/api/v1/auth/change-password/route.ts",
      "src/app/actions/auth/password.ts",
      "src/app/actions/auth/mfa.ts",
      "src/app/actions/auth/account-management.ts",
      "src/app/actions/auth/account-status.ts",
      "src/app/actions/auth/data-export-processor.ts",
      "src/app/actions/admin/dashboard.ts",
      "src/app/actions/__tests__/auth.test.ts",
      "src/app/actions/__tests__/comprehensive.test.ts",
      "src/app/actions/__tests__/security.test.ts",
      "src/app/(protected)/settings/components/settings-seguranca.tsx",
      "src/app/(protected)/settings/components/conta-components/gestao-conta.tsx",
      "src/app/(protected)/settings/components/conta-components/perfil/profile-data.tsx",
      "src/app/(protected)/settings/components/conta-components/seguranca/autenticacao-dois-fatores.tsx",
      "src/app/(protected)/settings/components/conta-components/seguranca/credenciais.tsx",
      "src/app/(protected)/settings/components/controle-dados-components/exportacao-dados.tsx",
      "src/app/(protected)/settings/components/controle-dados-components/historico-consentimentos.tsx",
      "src/app/(protected)/settings/components/notificacoes-components/preferencias-individuais.tsx",
      "src/app/(protected)/settings/components/notificacoes-components/tipos-alertas.tsx",
      "src/app/(protected)/settings/components/seguranca-components/chaves-webhook.tsx",
      "src/app/(protected)/settings/components/seguranca-components/logs-auditoria.tsx",
      "src/app/(protected)/settings/components/usuarios-components/usuarios-invite-dialog.tsx",
      "src/app/(protected)/settings/components/usuarios-components/usuarios-client-actions/cancelar-convite-button.tsx",
      "src/app/(protected)/settings/components/usuarios-components/usuarios-client-actions/desativar-usuario-button.tsx",
      "src/app/(protected)/settings/components/usuarios-components/usuarios-client-actions/editar-usuario-button.tsx",
      "src/app/(protected)/settings/components/usuarios-components/usuarios-client-actions/hard-delete-usuario-button.tsx",
      "src/app/(protected)/settings/components/usuarios-components/usuarios-client-actions/reenviar-convite-button.tsx",
      "src/app/(protected)/settings/components/usuarios-components/usuarios-client-actions/restore-usuario-button.tsx",
      "src/app/(protected)/settings/components/usuarios-components/usuarios-client-actions/soft-delete-usuario-button.tsx",
      "src/app/(protected)/settings/test/settings-seguranca.test.tsx",
      "src/app/(protected)/setup-account/page.tsx",
      "src/app/(protected)/setup-account/setup-form.tsx",
      "src/app/(protected)/admin/layout.tsx",
      "src/app/(protected)/multi-tenant-demo/page.tsx",
      "src/app/(public)/login/login-form.tsx",
      "src/app/(public)/login/account-recovery/account-recovery-form.tsx",
      "src/app/(public)/login/forgot-password/page.tsx",
      "backend/src/config/config.ts",
      "backend/src/plugins/index.ts",
      "backend/src/routes/index.ts",
      "backend/src/shared/tenant-manager/tenant-manager.ts",
      "backend/src/types/index.ts",
      "scripts/fix-user-role-sync.sql",
      "scripts/tests/obsolete/test-webhook-orders.js",
      "scripts/tests/obsolete/test-webhook-purchase-flow.js",
      "scripts/tests/obsolete/test-webhook-purchase-simple.js",
      "scripts/tests/obsolete/test-webhook-sales-flow.js",
      "scripts/tests/obsolete/test-webhook-simple.js",
      "scripts/tests/obsolete/test-webhook-transfer-flow.js",
      "scripts/tests/obsolete/test-webhook-transfer-simple.js",
      ".cursor/mcp.json",
      "package.json",
      "scripts/compliance-exceptions.json",
      "scripts/tests/webhook-orders.test.js",
      "scripts/tests/config/test.config.example.js",
      "src/app/(protected)/setup-account/actions.ts",
      "src/app/auth/callback/route.ts",
      "src/components/ui/password-input.tsx",
      "src/components/ui/Alert/AlertExamples.tsx",
      "src/hooks/use-user.ts",
      "src/lib/api/rate-limiter.ts",
      "src/lib/auth/critical-operations.ts",
      "src/lib/auth/session-manager.ts",
      "src/lib/security/cors.ts",
      "src/lib/security/rate-limiter.ts",
      "src/lib/security/safe-logger.ts",
      "src/lib/security/secrets-manager.ts",
      "src/lib/security/security-headers.ts",
      "src/lib/utils/security-detector.ts",
      "supabase/functions/invite-new-user/index.ts",
      "supabase/functions/webhook-inventory-flow/index.ts",
      "supabase/functions/webhook-purchase-flow/index.ts",
      "supabase/functions/webhook-sales-flow/index.ts",
      "supabase/functions/webhook-transfer-flow/index.ts",
      "supabase/migrations/20240320000000_create_secrets_table.sql",
      "src/app/actions/auth/login.ts",
      "src/core/api/rate-limiter.ts",
      "src/core/auth/critical-operations.ts",
      "src/core/auth/middleware.ts",
      "src/core/auth/session-manager.ts",
      "src/core/modules/standard/configuration/__tests__/configuration.test.ts",
      "src/core/schemas/auth.ts",
      "src/core/supabase/admin.ts",
      "src/core/supabase/auth-helpers.ts",
      "src/core/supabase/client.ts",
      "src/features/admin/create-user-sheet.tsx",
      "src/features/security/cors.ts",
      "src/features/security/encryption.ts",
      "src/features/security/rate-limiter.ts",
      "src/features/security/safe-logger.ts",
      "src/features/security/secrets-manager.ts",
      "src/features/security/security-headers.ts",
      "src/lib/supabase.ts",
      "src/shared/hooks/use-user.ts",
      "src/shared/providers/SheetProvider/components.tsx",
      "src/shared/ui/password-input.tsx",
      "src/shared/ui/Alert/AlertExamples.tsx",
      "src/shared/utils/api-router.ts",
      "src/shared/utils/audit-logger.ts",
      "src/shared/utils/rate-limiter.ts",
      "src/shared/utils/security-detector.ts",
      "supabase/functions/daily-etl/index.ts",
      "supabase/functions/security-alerts/index.ts"
    ]
  },
  "directory_structure_exceptions": {
    "description": "Excecoes para estrutura de diretorios - componentes e libs estao em src/",
    "directories_in_src": [
      "components",
      "lib"
    ]
  }
} 