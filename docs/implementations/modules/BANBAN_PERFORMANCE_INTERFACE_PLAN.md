# Plano de Interface - M√≥dulo Performance Banban

## üìã Resumo Executivo

Este documento apresenta o plano abrangente de interface para o m√≥dulo Performance do projeto Banban, baseado na an√°lise detalhada dos requisitos do m√≥dulo e da arquitetura existente. O m√≥dulo segue a arquitetura Phase 2 com suporte multi-tenant e especializa√ß√£o para o setor fashion.

---

## üéØ Objetivos da Interface

### Objetivos Prim√°rios
- **Dashboard Executivo** para tomada de decis√µes estrat√©gicas
- **An√°lises Especializadas** para o setor de moda e cal√ßados
- **Monitoramento em Tempo Real** de KPIs cr√≠ticos
- **Experi√™ncia Responsiva** em desktop, tablet e mobile
- **Multi-tenancy** com customiza√ß√µes por cliente

### Objetivos Secund√°rios  
- Interface intuitiva para usu√°rios n√£o-t√©cnicos
- Exporta√ß√£o de relat√≥rios e dados
- Alertas visuais para m√©tricas cr√≠ticas
- Integra√ß√£o com sistema de notifica√ß√µes

---

## üèóÔ∏è Arquitetura da Interface

### Estrutura Simplificada - P√°gina √önica

```
Performance Module Interface (/performance)
‚îú‚îÄ‚îÄ üìä Se√ß√£o: Dashboard Executivo
‚îÇ   ‚îú‚îÄ‚îÄ KPIs Principais (4x2 grid)
‚îÇ   ‚îú‚îÄ‚îÄ Gr√°ficos de Tend√™ncia
‚îÇ   ‚îî‚îÄ‚îÄ Alertas Cr√≠ticos
‚îú‚îÄ‚îÄ üëó Se√ß√£o: Fashion Metrics
‚îÇ   ‚îú‚îÄ‚îÄ An√°lise Sazonal
‚îÇ   ‚îú‚îÄ‚îÄ Performance por Categoria
‚îÇ   ‚îî‚îÄ‚îÄ Bot√£o Exportar (PDF/CSV)
‚îú‚îÄ‚îÄ üì¶ Se√ß√£o: Giro de Estoque
‚îÇ   ‚îú‚îÄ‚îÄ Widget Expandido
‚îÇ   ‚îú‚îÄ‚îÄ An√°lise Detalhada
‚îÇ   ‚îî‚îÄ‚îÄ Bot√£o Exportar (PDF/CSV)
‚îú‚îÄ‚îÄ üìà Se√ß√£o: Performance por Marca
‚îÇ   ‚îú‚îÄ‚îÄ Ranking de Marcas
‚îÇ   ‚îú‚îÄ‚îÄ An√°lise Comparativa
‚îÇ   ‚îî‚îÄ‚îÄ Bot√£o Exportar (PDF/CSV)
‚îú‚îÄ‚îÄ üí∞ Se√ß√£o: An√°lise de Margens
‚îÇ   ‚îú‚îÄ‚îÄ Margens por Produto
‚îÇ   ‚îú‚îÄ‚îÄ Matriz Tamanho/Cor
‚îÇ   ‚îî‚îÄ‚îÄ Bot√£o Exportar (PDF/CSV)
‚îî‚îÄ‚îÄ ‚öôÔ∏è Modal: Configura√ß√£o de Alertas
    ‚îú‚îÄ‚îÄ Thresholds de KPIs
    ‚îú‚îÄ‚îÄ Notifica√ß√µes
    ‚îî‚îÄ‚îÄ Hist√≥rico de Alertas
```

---

## üì± Especifica√ß√£o da P√°gina √önica

### P√°gina Principal - Performance Dashboard

**Rota:** `/performance`
**Componente:** `PerformancePage.tsx`

#### Layout da P√°gina
```typescript
interface PerformancePageLayout {
  header: PageHeader;
  sections: PerformanceSection[];
  alertsModal: AlertsConfigModal;
}

interface PerformanceSection {
  id: string;
  title: string;
  component: React.ComponentType;
  exportable: boolean;
  collapsible?: boolean;
}
```

---

## üìã Se√ß√µes da P√°gina

### üéõÔ∏è Header da P√°gina
- **T√≠tulo din√¢mico** baseado no cliente (ex: "Performance Fashion - Banban")
- **Badges de status** (Cliente Premium, M√≥dulo Customizado)
- **Controles globais de per√≠odo** (7d, 30d, 90d, 1y)
- **Bot√£o de configura√ß√£o de alertas** (abre modal)

---

### üìä Se√ß√£o 1: Dashboard Executivo

#### Grid de KPIs (4x2)
**Linha 1 - Vendas:**
- **Vendas Total** (R$ valor, % varia√ß√£o)
- **Margem M√©dia** (% valor, tend√™ncia)
- **Cobertura de Estoque** (dias, status)
- **Sell Through** (% valor, meta)

**Linha 2 - Operacional:**
- **Giro de Estoque** (multiplicador, classifica√ß√£o)
- **Produtos em Falta** (quantidade, criticidade)
- **Performance Sazonal** (% da meta, esta√ß√£o atual)
- **ROI Cole√ß√µes** (% retorno, comparativo)

#### Gr√°ficos de Tend√™ncia
- **Gr√°fico Principal** - Performance Multi-per√≠odo
- **Gr√°fico Sazonal** - Comparativo ano anterior

#### Alertas Cr√≠ticos
- Lista compacta dos 3 alertas mais cr√≠ticos
- Link para "Ver todos" (abre modal de alertas)

---

### üëó Se√ß√£o 2: Fashion Metrics

```typescript
interface FashionMetricsSection {
  seasonalAnalysis: SeasonalChart;
  categoryBreakdown: CategoryGrid;
  collectionPerformance: CollectionTable;
  exportButton: ExportButton; // PDF/CSV
}
```

#### Componentes:
- **An√°lise Sazonal** - Performance por esta√ß√£o (chart)
- **Performance por Categoria** - Cal√ßados, Bolsas, Acess√≥rios (grid)
- **ROI por Cole√ß√£o** - Tabela com comparativos
- **Bot√£o Exportar** - PDF/CSV no header da se√ß√£o

---

### üì¶ Se√ß√£o 3: Giro de Estoque

#### Widget Expandido:
- **Tabela Principal** - Giro por categoria (widget existente expandido)
- **Gr√°fico de Barras** - Visualiza√ß√£o comparativa
- **Filtros Locais** - Por categoria, marca
- **Drill-down** - Click na linha para detalhes
- **Bot√£o Exportar** - PDF/CSV no header da se√ß√£o

---

### üìà Se√ß√£o 4: Performance por Marca

#### Componentes:
- **Ranking de Marcas** - Top performers (tabela)
- **Gr√°fico de Market Share** - Participa√ß√£o nas vendas
- **An√°lise Temporal** - Tend√™ncias por marca (line chart)
- **Bot√£o Exportar** - PDF/CSV no header da se√ß√£o

---

### üí∞ Se√ß√£o 5: An√°lise de Margens

#### Componentes:
- **Margens por Categoria** - Grid de rentabilidade
- **Matriz Tamanho/Cor** - Heatmap de performance
- **Gr√°fico de Margem Temporal** - Evolu√ß√£o das margens
- **Bot√£o Exportar** - PDF/CSV no header da se√ß√£o

---

## ‚öôÔ∏è Modal de Configura√ß√£o de Alertas

```typescript
interface AlertsConfigModal {
  kpiThresholds: ThresholdConfig[];
  notificationSettings: NotificationConfig;
  alertHistory: AlertHistoryTable;
  activeAlerts: ActiveAlertsList;
}
```

### Conte√∫do do Modal:

#### Aba 1: Configura√ß√£o de Limites
- **Sliders para cada KPI** - Definir thresholds
- **Toggle de ativa√ß√£o** - Ligar/desligar alertas
- **Severidade** - Cr√≠tico, Alto, M√©dio, Baixo

#### Aba 2: Notifica√ß√µes
- **Canais** - Email, SMS, Push
- **Frequ√™ncia** - Imediato, Di√°rio, Semanal
- **Hor√°rios** - Quando receber alertas

#### Aba 3: Hist√≥rico e Alertas Ativos
- **Lista de alertas ativos** - Com a√ß√µes (dispensar, resolver)
- **Hist√≥rico** - √öltimos 30 dias de alertas
- **Estat√≠sticas** - Resumo de alertas por tipo

---

## üé® Design System & UI Components

### Paleta de Cores (Banban Fashion)

```css
:root {
  /* Cores Prim√°rias */
  --banban-primary: #8B5CF6;     /* Roxo vibrante */
  --banban-secondary: #EC4899;   /* Rosa fashion */
  --banban-accent: #10B981;      /* Verde sucesso */
  
  /* Cores de Status */
  --success: #059669;            /* Verde performance boa */
  --warning: #D97706;            /* Laranja aten√ß√£o */
  --danger: #DC2626;             /* Vermelho cr√≠tico */
  --info: #2563EB;               /* Azul informativo */
  
  /* Gradientes */
  --gradient-primary: linear-gradient(135deg, #8B5CF6, #EC4899);
  --gradient-success: linear-gradient(135deg, #10B981, #059669);
}
```

### Componentes Customizados

#### 1. KPI Card Component
```typescript
interface KPICardProps {
  title: string;
  value: string | number;
  change?: {
    value: number;
    type: 'increase' | 'decrease' | 'neutral';
    period: string;
  };
  icon?: React.ComponentType;
  format?: 'currency' | 'percentage' | 'number' | 'days';
  status?: 'success' | 'warning' | 'danger' | 'info';
}
```

#### 2. Section Header Component
```typescript
interface SectionHeaderProps {
  title: string;
  subtitle?: string;
  exportable?: boolean;
  collapsible?: boolean;
  onExport?: (format: 'pdf' | 'csv') => void;
  onToggle?: (collapsed: boolean) => void;
}
```

#### 3. Export Button Component
```typescript
interface ExportButtonProps {
  formats: ('pdf' | 'csv')[];
  onExport: (format: 'pdf' | 'csv') => void;
  loading?: boolean;
  disabled?: boolean;
}
```

#### 4. Performance Section Container
```typescript
interface PerformanceSectionProps {
  id: string;
  title: string;
  subtitle?: string;
  exportable?: boolean;
  collapsible?: boolean;
  children: React.ReactNode;
  onExport?: (format: 'pdf' | 'csv') => void;
}
```

---

## üì± Responsividade e Layouts

### Breakpoints
- **Mobile:** < 768px
- **Tablet:** 768px - 1024px  
- **Desktop:** > 1024px
- **Large Desktop:** > 1440px

### Layout Adaptativo

#### Mobile (< 768px)
- **Stack vertical** de todos os componentes
- **KPIs em grid 2x4** (2 colunas, 4 linhas)
- **Gr√°ficos full-width** com scroll horizontal
- **Menu hamburguer** para navega√ß√£o
- **Bottom sheet** para filtros

#### Tablet (768px - 1024px)
- **Grid 2x2** para KPIs principais
- **Gr√°ficos side-by-side** quando poss√≠vel
- **Sidebar colaps√≠vel**
- **Modal overlays** para detalhes

#### Desktop (> 1024px)
- **Layout completo** conforme especifica√ß√£o
- **Grid 4x2** para KPIs
- **Sidebar fixa**
- **M√∫ltiplos gr√°ficos** simult√¢neos

---

## ‚ö° Funcionalidades Interativas

### 1. Filtros e Controles

#### Filtros Globais:
- **Per√≠odo** - Seletor de data range
- **Cliente/Tenant** - Troca de contexto (admin)
- **Categoria** - Filtro por tipo de produto
- **Marca** - Filtro por fornecedor

#### Controles de Visualiza√ß√£o:
- **Tipo de Gr√°fico** - Line, Bar, Area, Heatmap
- **Agrupamento** - Por dia, semana, m√™s
- **Compara√ß√£o** - Per√≠odo anterior, ano anterior
- **M√©tricas** - Sele√ß√£o de KPIs a exibir

### 2. Intera√ß√µes com Dados

#### Drill-down:
- **KPI Cards** ‚Üí An√°lise detalhada
- **Gr√°ficos** ‚Üí Dados granulares
- **Tabelas** ‚Üí Detalhes do item

#### Tooltips e Contexto:
- **Hover states** com informa√ß√µes adicionais
- **Explica√ß√µes** de m√©tricas complexas
- **Trends** e varia√ß√µes em popover

---

## üîß Integra√ß√µes e APIs

### Endpoints Necess√°rios

#### 1. Dashboard Data
```typescript
GET /api/performance/dashboard
{
  tenant_id: string;
  period: string;
  filters?: FilterParams;
}
```

#### 2. Fashion Metrics
```typescript
GET /api/performance/fashion-metrics
{
  season?: string;
  category?: string[];
  brands?: string[];
}
```

#### 3. Inventory Turnover
```typescript
GET /api/performance/inventory-turnover
{
  period: string;
  category?: string;
  minimum_turnover?: number;
}
```

### Export Functionality
- **PDF Export** para relat√≥rios formatados
- **CSV Export** para an√°lise de dados
- **Per-section Export** - Cada se√ß√£o pode ser exportada individualmente

---

## üöÄ Fases de Implementa√ß√£o Simplificada

### Fase 1: Estrutura Base (1 semana)
- ‚úÖ Estrutura base do m√≥dulo (j√° implementado)
- üîÑ **Layout da p√°gina √∫nica com se√ß√µes**
- üîÑ **Header com controles globais**
- üîÑ **Estrutura de se√ß√µes colaps√≠veis**

### Fase 2: Dashboard e KPIs (1 semana)
- üîÑ **Grid de KPIs (4x2)**
- üîÑ **Gr√°ficos de tend√™ncia b√°sicos**
- üîÑ **Alertas cr√≠ticos (top 3)**
- üîÑ **Responsividade mobile**

### Fase 3: Se√ß√µes de An√°lise (2 semanas)
- üîÑ **Fashion Metrics section**
- üîÑ **Giro de Estoque expandido**
- üîÑ **Performance por Marca**
- üîÑ **An√°lise de Margens**
- üîÑ **Bot√µes de exporta√ß√£o (PDF/CSV)**

### Fase 4: Modal de Alertas (1 semana)
- üîÑ **Modal de configura√ß√£o de alertas**
- üîÑ **Configura√ß√£o de thresholds**
- üîÑ **Hist√≥rico de alertas**
- üîÑ **Sistema de notifica√ß√µes b√°sico**

---

## üìä M√©tricas de Sucesso

### M√©tricas de Interface:
- **Time to First Paint** < 1.5s
- **Largest Contentful Paint** < 2.5s
- **Cumulative Layout Shift** < 0.1
- **First Input Delay** < 100ms

### M√©tricas de Usu√°rio:
- **Task completion rate** > 90%
- **Time to insight** < 30s
- **Error rate** < 2%
- **User satisfaction** > 4.5/5

---

## üîí Considera√ß√µes de Seguran√ßa

### Controle de Acesso:
- **RBAC** - Role-based access control
- **Tenant isolation** - Dados isolados por organiza√ß√£o
- **Data masking** - Informa√ß√µes sens√≠veis protegidas

### Auditoria:
- **Logs** de todas as a√ß√µes cr√≠ticas
- **Tracking** de visualiza√ß√µes de dados
- **Export logging** - Controle de relat√≥rios gerados

---

## üìã Checklist de Implementa√ß√£o

### Prepara√ß√£o:
- [ ] Definir estrutura de componentes
- [ ] Configurar design system
- [ ] Preparar dados de mock para desenvolvimento
- [ ] Definir APIs necess√°rias

### Desenvolvimento:
- [ ] Implementar p√°gina √∫nica com se√ß√µes
- [ ] Criar sistema de KPI cards (4x2 grid)
- [ ] Desenvolver se√ß√µes de an√°lise (Fashion, Giro, Marca, Margem)
- [ ] Implementar bot√µes de exporta√ß√£o (PDF/CSV)
- [ ] Criar modal de configura√ß√£o de alertas
- [ ] Desenvolver responsividade

### Testes:
- [ ] Testes unit√°rios de componentes
- [ ] Testes de integra√ß√£o com APIs
- [ ] Testes de responsividade
- [ ] Testes de performance
- [ ] Testes de acessibilidade

### Deploy:
- [ ] Configura√ß√£o de ambiente
- [ ] Migrations de banco de dados
- [ ] Deploy de APIs
- [ ] Deploy de frontend
- [ ] Testes de produ√ß√£o

---

## üìû Pr√≥ximos Passos

1. **Aprova√ß√£o do Plano Simplificado** - Review com stakeholders
2. **Prototipagem da P√°gina √önica** - Wireframes das se√ß√µes
3. **Implementa√ß√£o Fase 1** - Estrutura base e layout
4. **Desenvolvimento Iterativo** - Implementa√ß√£o se√ß√£o por se√ß√£o

---

## üéØ Resumo das Simplifica√ß√µes

### ‚úÖ **Mantido:**
- P√°gina √∫nica `/performance` com m√∫ltiplas se√ß√µes
- Grid de KPIs 4x2 especializado para fashion
- Se√ß√µes espec√≠ficas: Fashion Metrics, Giro, Marca, Margem
- Modal para configura√ß√£o de alertas
- Exporta√ß√£o PDF/CSV por se√ß√£o
- Design responsivo e multi-tenant

### üö´ **Removido:**
- M√∫ltiplas p√°ginas separadas
- Sistema completo de relat√≥rios
- Dashboard em tempo real
- P√°gina dedicada para configura√ß√£o de alertas

### ‚ö° **Simplificado:**
- Cronograma reduzido de 8 para 5 semanas
- Foco na funcionalidade essencial
- Implementa√ß√£o mais direta e objetiva

---

*Este plano simplificado mant√©m todas as funcionalidades essenciais do m√≥dulo Performance Banban em uma interface mais concisa e focada, facilitando tanto o desenvolvimento quanto a experi√™ncia do usu√°rio.*